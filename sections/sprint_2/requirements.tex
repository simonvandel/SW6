\section{Requirements} \label{sec:s2_reqs}
In this section we revise the initial requirements identified in \cref{sec:s1_requirements}, based on additional knowledge acquired during the first sprint, and feedback received on our system. The meeting with Alarm HS confirmed the two types of users identified in \cref{ss:s1_users}, but presented several additional use cases.

\subsection{Use Cases} \label{ss:s2_uc}
Here we describe the additional use cases identified during the meeting with Alarm HS. In addition to the assumed use cases described in \cref{ss:s1_uc}, seven additional use cases were identified from the meeting. These additional requirements are described in \cref{tab:s2-uc1,tab:s2-uc2,tab:s2-uc3,tab:s2-uc4,tab:s2-uc5,tab:s2-uc6,tab:s2-uc7}.

\lanote{Flyt use cases til bilag og skriv kun deres navn her?}

\input{tables/s2-usecases.tex}


\subsection{Revised requirements} \label{ss:s2_update_reqs}
In \cref{sec:related_work} we identified density, velocity, turbulence, and pressure as important crowd characteristics for determining problematic crowd scenarios. To reflect this in the requirement specification, we replace requirement S1-FR2: \enquote{\emph{An intuitive visual presentation of relevant crowd information}}, shown in \cref{tab:s1_req}, with the following four requirements:

\begin{enumerate}
    \item \emph{A map overlay that intuitively visualises crowd density.} 
    \item \emph{A map overlay that intuitively visualises crowd velocity.}
    \item \emph{A map overlay that intuitively visualises crowd turbulence.}
    \item \emph{A map overlay that intuitively visualises crowd pressure.}
\end{enumerate}

d

To include the features described in the added use cases, several additional functional requirements needs to be added as well. From the use cases we identify the following requirements:

\begin{enumerate}[resume]
    \item \textbf{Different layers of details that can be toggled on and off.} The map should contain 
    \item \textbf{.}
    \item \textbf{.}
    \item \textbf{.}
    \item \textbf{.}
    \item \textbf{.}
    \item \textbf{.}
\end{enumerate}

\begin{enumerate}
  \item \textbf{[Added]} A highly detailed map that enables a detailed overview of the festival. This entails the inclusion of points of interest on the map, such as toilets, bars, or fixpoints. The map should also include geographical structures such as buildings, fences and pedestrian paths.

    \item \textbf{[Added]} Toggleable levels of detail. The different information available must be possible to disable, so that cluttering and information overflow can be avoided.
    \item \textbf{[Added]} Preservation of privacy. It must not be possible to infer specific information of the individual festival attendees. This is in accordance with the values of the festival, as well as danish law.
    \item \label{itm:desktop_req} \textbf{[Added]} An interface for computers. Since the main use will be in a control room, the application must be able to run on a desktop computer.
    \item \textbf{[Added]} User authorization, so the system is only available to employees with a valid login.
\end{enumerate}

\textbf{Should have}
\begin{enumerate}[resume]
    \item \textbf{[Added]} A search function. Specific places of interest should be possible to find through search, in order to enable faster orientation on the map.
    \item \label{itm:mobile_req} \textbf{[Added]} A mobile interface for use outside the control room. This is oriented towards field personnel, such as paramedics and security guards.
\end{enumerate}

\textbf{Could have}
\begin{enumerate}[resume]
    \item \textbf{[Added]} Navigation assistance for use in crowds. Should serve to enable faster reaction times, by supplying a route to personnel having to traverse the festival.
    \item \textbf{[Added]} An automated reaction to problematic situations. This would entail having the system analysing current situations and notifying the operators of possible problems that may have occurred, such as crowd congestion.
    \item \textbf{[Added]} A display of available personnel. In order to better judge the coverage of personnel, real-time tracking could provide a better overview for the control room operators. Matters of personal privacy for the personnel also has to be considered.
\end{enumerate}

\textbf{Won't have}
\begin{enumerate}[resume]
    \item \textbf{[Added]} Projection onto camera images. Such a functionality would require a system by itself, and is considered out of scope.
\end{enumerate}



From

new requirements were identified. These requirements will be added to the requirement specification presented in \cref{sec:s1_requirements}. This gives the following requirement specification, where the requirements added for this sprint are written in italic font\lanote{or denoted in some other form, haven't decided yet}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% WIP
\begin{table}[htbp]
	\centering
	\begin{tabularx}{\textwidth}{lXl}
		\toprule
		\textbf{ID} & \textbf{Requirement} & \textbf{Priority} \\
		\toprule 
		
		\rowcolor[HTML]{EFEFEF} 
		S1-1  & Analyze position data collected from the crowd via mobile technology    & Must have \\
		S1-2  & Present a visualization of relevant information                         & Must have \\
		\rowcolor[HTML]{EFEFEF} 
		S1-3  & Run on multiple platforms                                               & Must have \\  
		S2-1  & A highly detailed map, showing fences, building, etc.                   & Must have \\
		\rowcolor[HTML]{EFEFEF} 
		S2-2  & A real-time representation of position data                                & Must have \\
		S2-3  & Layers that can be toggled                                                 & Must have \\
		\rowcolor[HTML]{EFEFEF} 
		S2-4  & It must not be possible to infer information about individuals             & Must have \\ 
		S2-5  & A graphical user interface for desktop computer & Must have \\
		\rowcolor[HTML]{EFEFEF} 
		S2-6  & A search function & Should have \\
		S2-7  & A graphical user interface for mobile phones & Should have \\
		\rowcolor[HTML]{EFEFEF} 
		S2-8  & Navigation assistance & Could have \\ 
		S2-9  & An automated reaction to problematic situations & Could have \\
		\rowcolor[HTML]{EFEFEF} 
		S2-10 & A display of availabe personnel & Could have \\
		S2-11 & A publicly availabe interface & Won't have \\
		\rowcolor[HTML]{EFEFEF} 
		S2-12 & Projection onto camera images & Won't have \\       
		\bottomrule
	\end{tabularx}
	\caption{MoSCoW prioritized requirements for second sprint}
	\label{tab:s2_req}
\end{table}

\begin{table}[h!]
	\centering
	\begin{tabularx}{\textwidth}{lXl}
		\toprule
		\textbf{ID} & \textbf{Requirement} & \textbf{Priority} \\
		\midrule 
		\rowcolor[HTML]{EFEFEF} 
		S1-FR1 & A detailed map of the area & Must have \\
		S1-FR2 & An intuitive visual presentation of relevant crowd information & Must have \\
		\rowcolor[HTML]{EFEFEF} 
		S1-FR3 & A graphical user interface for desktop computers & Must have \\
		S1-FR4 & A graphical user interface for smartphones & Must have \\
		\bottomrule
	\end{tabularx}
	\caption{MoSCoW prioritised functional requirements for the first sprint.}
	\label{tab:s1_req}
\end{table}


  

%% Commented out if we want to change how we emphasize..
\iffalse
\textbf{Must have}
\begin{enumerate}
    \item The system must be able to analyse position data collected from the crowd via mobile technology.
    \item The system must be able to present a visualisation of relevant information about the state of the crowd.
    \item The system must be able to run on multiple platforms.
    \item A highly detailed map that enables a detailed overview of the festival. This entails the inclusion of points of interest on the map, such as toilets, bars, or fixpoints. The map should also include geographical structures such as buildings, fences and pedestrian paths.
    \item A real-time representation displaying position data of the people present in the festival areas. This includes estimation of position data, where the actual readings are not available.
    \item Toggleable levels of detail. The different information available must be possible to disable, so that cluttering and information overflow can be avoided.
    \item Preservation of privacy. It must not be possible to infer specific information of the individual festival attendees. This is in accordance with the values of the festival, as well as danish law.
    \item An interface for computers. Since the main use will be in a control room, the application must be able to run on a desktop computer.
    \item User authorization, so the system is only available to employees with a valid login.
\end{enumerate}

\textbf{Should have}
\begin{enumerate}[resume]
    \item A search function. Specific places of interest should be possible to find through search, in order to enable faster orientation on the map.
    \item A mobile interface for use outside the control room. This is oriented towards field personnel, such as paramedics and security guards.
\end{enumerate}

\textbf{Could have}
\begin{enumerate}[resume]
    \item Navigation assistance for use in crowds. Should serve to enable faster reaction times, by supplying a route to personnel having to traverse the festival.
    \item An automated reaction to problematic situations. This would entail having the system analysing current situations and notifying the operators of possible problems that may have occurred, such as crowd congestion.
    \item A display of available personnel. In order to better judge the coverage of personnel, real-time tracking could provide a better overview for the control room operators. Matters of personal privacy for the personnel also has to be considered.
\end{enumerate}

\textbf{Won't have}
\begin{enumerate}[resume]
    \item Projection onto camera images. Such a functionality would require a system by itself, and is considered out of scope.
\end{enumerate}
\fi

