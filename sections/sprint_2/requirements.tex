\section{Requirements} \label{sec:s2_reqs}
In this section we revise the initial requirements identified in \cref{sec:s1_requirements}, based on additional knowledge acquired during the first sprint, and feedback received on our system. The meeting with Alarm HS confirmed the two types of users identified in \cref{ss:s1_users}, but presented several additional use cases.

\subsection{Additional Use Cases} \label{ss:s2_uc}
Here we describe the additional use cases identified during the meeting with Alarm HS. In addition to the assumed use cases described in \cref{ss:s1_uc}, seven additional use cases were identified from the meeting. These additional requirements are described in \cref{tab:s2-uc1,tab:s2-uc2,tab:s2-uc3,tab:s2-uc4,tab:s2-uc5,tab:s2-uc6,tab:s2-uc7}.

\lanote{Flyt use cases til bilag og skriv kun deres navn her?}

\input{tables/s2-usecases.tex}


\subsection{Revised Requirements} \label{ss:s2_update_reqs}
In \cref{sec:related_work} we identified density, velocity, turbulence, and pressure as important crowd factors for determining problematic crowd scenarios. To reflect this in the requirement specification, we replace requirement S1-FR2: \enquote{\emph{An intuitive visual presentation of relevant crowd information}}, shown in \cref{tab:s1_req}, with the following four requirements, all prioritised as must have:

\begin{enumerate}
    \item \emph{A map overlay that intuitively visualises crowd density.} 
    \item \emph{A map overlay that intuitively visualises crowd velocity.}
    \item \emph{A map overlay that intuitively visualises crowd turbulence.}
    \item \emph{A map overlay that intuitively visualises crowd pressure.}
\end{enumerate}

To include the features described in the added use cases, several additional functional requirements needs to be added as well. From the use cases we identify the following requirements:

\begin{enumerate}[resume]
    \item \emph{Layers of details that can be toggled on and off.} The map must be highly detailed, but the details must be in layers that can be toggled on and off separately. This allows users to only activate the necessary layers, avoiding information overflow. This is an important requirement, and is prioritised as must have.
    \item \emph{User authentication.} Access to the system must be restricted to users with a valid login. This requirement is prioritised as must have.
    \item \emph{A search function.} Specific points of interest should be searchable, allowing for faster orientation on the map. This requirement could improve the usability of the application, though it is not essential, warranting a should have priority.
    \item \emph{Navigation assistance.} Instead of the user having to identify a path manually from the map, the system could calculate the fastest route for the user. While this might improve the usability of the application, it is not within the primary scope of the system, and will thus be prioritised as could have.
    \item \emph{Automatic warning system.} Instead of requiring the users to manually identify dangerous situations, the system could detect these automatically, warning the user. Similar to the previous requirement, this is prioritised as could have.
    \item \emph{A visualisation of available personnel.} The system could have an overlay that displays the positions of the available personnel, affording the stationary users a better overview. This is also prioritised as could have.
    \item \emph{Projection onto camera images.} Projecting the crowd information overlay onto camera images. This requirement is not considered within the current scope of the system, and will be prioritised as won't have.
\end{enumerate}

Applying these changes gives the functional requirement specification shown in \cref{tab:s2_req}.

\begin{table}[h!]
	\centering
	\begin{tabularx}{\textwidth}{lXl}
		\toprule
		\textbf{ID} & \textbf{Requirement} & \textbf{Priority} \\
		\midrule 
		\rowcolor[HTML]{EFEFEF} 
		S1-FR1 & A detailed map of the area & Must have \\
		S2-FR1 & A map overlay that intuitively visualises crowd density & Must have \\
		\rowcolor[HTML]{EFEFEF} 
		S2-FR2 & A map overlay that intuitively visualises crowd velocity & Must have \\
		S2-FR3 & A map overlay that intuitively visualises crowd turbulence & Must have \\
		\rowcolor[HTML]{EFEFEF} 
		S2-FR4 & A map overlay that intuitively visualises crowd pressure & Must have \\
		S1-FR3 & A graphical user interface for desktop computers & Must have \\
		\rowcolor[HTML]{EFEFEF} 
		S1-FR4 & A graphical user interface for smartphones & Must have \\
		S2-FR5 & Layers of details that can be toggled on and off & Must have \\
		\rowcolor[HTML]{EFEFEF} 
		S2-FR6 & User authentication & Must have \\
		S2-FR7 & A search function & Should have \\
		\rowcolor[HTML]{EFEFEF} 
		S2-FR8 & Navigation assistance & Could have \\
		S2-FR9 & Automatic warning system & Could have \\
		\rowcolor[HTML]{EFEFEF} 
		S2-FR10 & A visualisation of available personnel & Could have \\
		S2-FR11 & Projection onto camera images & Won't have \\
		\bottomrule
	\end{tabularx}
	\caption{Functional requirements for the second sprint.}
	\label{tab:s2_req}
\end{table}

In addition to the functional requirement changes, the following non-functional requirement is added.

\begin{enumerate}
    \item \emph{Preservation of privacy.} The privacy of the users must be preserved. It should not be possible to identify a specific person using the system. This is very important, both in accordance with the values of the festival and danish law, and will receive a high priority.
\end{enumerate}

Adding this to the existing non-functional requirements from \cref{tab:s1_nreqs} gives us the specification shown in \cref{tab:s2_nreqs}

\begin{table}[h!]
	\centering
	\begin{tabularx}{\textwidth}{lXl}
		\toprule
		\textbf{ID} & \textbf{Requirement} & \textbf{Priority} \\
		\midrule 
		\rowcolor[HTML]{EFEFEF} 
		S1-NR1 & The visualisation must be updated in real-time & High \\
		S1-NR2 & Location data must be acquired using the aSTEP core & High \\
		\rowcolor[HTML]{EFEFEF} 
		S1-NR3 & The application must be maintainable & Medium \\
		S1-NR4 & The application must be extensible & Medium \\
		\rowcolor[HTML]{EFEFEF}
		S2-NR1 & Preservation of privacy & High \\
		\bottomrule
	\end{tabularx}
	\caption{Non-functional requirements for the second sprint.}
	\label{tab:s2_nreqs}
\end{table}
